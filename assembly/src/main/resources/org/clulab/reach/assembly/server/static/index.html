<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>reach-assembly</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <!-- theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">
</head>
<body>
<div class="container theme-showcase" role="main">

    <!-- jumbotron -->
    <div class="jumbotron">
        <h1><code>processors-server</code></h1>
        <div><h3 id="version"><h3></div>
        <div>
            <p>Web interface to the CLU Lab's <a href="https://github.com/clulab/reach-assembly"><code>reach-assembly</code></a> project</p>
        </div>
    </div>

    <div class="container">

        <h2>Services</h2>
        <table class="table table-striped">
            <thead>
            <tr>
                <th>Link</th>
                <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <!-- Annotation UI -->
            <tr>
                <td><a id="annotation-ui" href="annotate">Assembly Annotation UI</a></td>
                <td>A UI for annotating assembly relations</td>
            </tr>
            <!-- Model specification -->
            <tr>
                <td><a id="model-ui" href="model">Model UI</a></td>
                <td>A UI for specifying a biological model</td>
            </tr>
            </tbody>
        </table>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script "text/javascript">
    $('document').ready(function () {
    // Retrieve version
    $.ajax({
    url: location.protocol+'//'+location.hostname+(location.port ? ':'+location.port: '') + "/version",
    method: "POST"
    }).done(function( data ) {
    // console.log(JSON.stringify(data));
    var version = data["version"];
    // console.log(version);
    $('#version').text("v" + version);
    });

    // Build link to annotation ui
    $('#annotation-ui').click(
    function(){
    service = location.protocol + '//' + location.hostname + (location.port ? ':'+location.port: '') + "/annotate";
    var win = window.open(service, '_blank');
    win.focus();
    });

    });
    </script>
    </body>
    </html>