vars: org/clulab/reach/biogrammar/vars.yml

rules:

- name: convert_with_controller
  label: Conversion # Refers to the entry in the taxonomy
  action: mkBioMention
  priority: ${ priority }
  pattern: |
      trigger = [lemma=/convert|rearrange|phosphorylate|deaminate|
                        isomerise|isomerize|epimerize|recycle/ & tag=/^V/]
      controller:BioChemicalEntity*  = (nsubj|nmod_agent) nn?
      substrate:BioChemicalEntity+ = dobj | acomp | nsubjpass
      product:BioChemicalEntity+ = (dobj? (nmod_into|nmod_to)) | (acomp? (nmod_into|nmod_to))

- name: catalyze_dobj
  label: Conversion
  action: mkBioMention
  priority: ${ priority }
  pattern: |
    trigger = [lemma=/catalyze|catalyse/ & tag=/^V/]
    controller:BioChemicalEntity* = nsubj
    substrate:BioChemicalEntity+ =
           dobj | (dobj [lemma=/conversion|synthesis/])? nmod_of
    product:BioChemicalEntity+ =
           (dobj [lemma=/conversion|synthesis/])? nmod_of? nmod_into

- name: conversion
  label: Conversion
  action: mkBioMention
  priority: ${ priority }
  pattern: |
      trigger = [lemma=/conversion/ & tag=/^NN/]
      controller:BioChemicalEntity* = (nmod_of? nmod_by appos?) | (<dobj nsubj)
      substrate:BioChemicalEntity+ = nmod_of
      product:BioChemicalEntity+ = nmod_of? <dobj? (nmod_into|nmod_to)

- name: conversion_token
  label: Conversion
  action: mkBioMention
  priority: ${ priority }
  type: token
  pattern: |
      @controller:BioChemicalEntity (?<trigger> [lemma=convert])
      @substrate:BioChemicalEntity/^(in)?to$/
      @product:BioChemicalEntity*

- name: convert_passive
  label: Conversion # Refers to the entry in the taxonomy
  action: mkBioMention
  priority: ${ priority }
  pattern: |
      trigger = [lemma=/convert|rearrange/ & tag=/^V/]
      substrate:BioChemicalEntity+ = nsubjpass
      product:BioChemicalEntity+ = nmod_to | nmod_into
      controller:BioChemicalEntity* = nmod_by | nmod_agent

# Should conversions actually be complex events?
# "X synthesis from Y"
# "synthesis of X from Y"
# "the interconversion of X and Y"
# "A catalyzes the interconversion of X and Y"
#
# "A interconverts B with C"
# "A interconverts B and C"
